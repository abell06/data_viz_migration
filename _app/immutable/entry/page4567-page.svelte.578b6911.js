import{S as de,i as pe,s as ge,k as b,l as $,m as u,h as c,p as s,b as C,n as U,J as Ae,K as M,a as z,L as T,c as j,M as Re,q as R,H as a,N as Se,O as Ze,r as I,u as P,v as oe,z as ne,A as ie,P as et,Q as He,B as ae,g as ce,d as _e,C as fe,R as tt}from"../chunks/index.0c7156d9.js";import{a as Ve}from"../chunks/all_violence_data.b7a04598.js";function qe(o,e,r){const t=o.slice();return t[6]=e[r],t}function Je(o){let e,r=o[0].violence_strings+"",t;return{c(){e=I("Type of violence reported: "),t=I(r)},l(l){e=P(l,"Type of violence reported: "),t=P(l,r)},m(l,i){C(l,e,i),C(l,t,i)},p(l,i){i&1&&r!==(r=l[0].violence_strings+"")&&oe(t,r)},d(l){l&&c(e),l&&c(t)}}}function Ke(o){let e,r,t,l,i,n,v,y,k,m,x,S,F,N;function O(...g){return o[4](o[6],...g)}let d=o[0]!==-1&&Je(o);return{c(){e=M("svg"),r=M("g"),t=M("circle"),l=M("line"),i=M("line"),n=M("line"),v=M("line"),y=M("rect"),k=z(),m=b("div"),d&&d.c(),x=z(),this.h()},l(g){e=T(g,"svg",{width:!0,height:!0,class:!0,viewBox:!0});var p=u(e);r=T(p,"g",{class:!0});var D=u(r);t=T(D,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),u(t).forEach(c),l=T(D,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),u(l).forEach(c),i=T(D,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),u(i).forEach(c),n=T(D,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),u(n).forEach(c),v=T(D,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),u(v).forEach(c),y=T(D,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),u(y).forEach(c),D.forEach(c),p.forEach(c),k=j(g),m=$(g,"DIV",{class:!0,style:!0});var f=u(m);d&&d.l(f),x=j(f),f.forEach(c),this.h()},h(){s(t,"cx","-0"),s(t,"cy","-45"),s(t,"r","28"),s(t,"fill","#800000"),s(t,"stroke","#800000"),s(t,"stroke-width","2"),s(l,"x1","0"),s(l,"y1","-25"),s(l,"x2","0"),s(l,"y2","30"),s(l,"stroke","#800000"),s(l,"stroke-width","10"),s(i,"x1","0"),s(i,"y1","30"),s(i,"x2","20"),s(i,"y2","65"),s(i,"stroke","#800000"),s(i,"stroke-width","10"),s(n,"x1","0"),s(n,"y1","30"),s(n,"x2","-20"),s(n,"y2","65"),s(n,"stroke","#800000"),s(n,"stroke-width","10"),s(v,"x1","-20"),s(v,"y1","5"),s(v,"x2","20"),s(v,"y2","5"),s(v,"stroke","#800000"),s(v,"stroke-width","10"),s(y,"x","-100"),s(y,"y","-100"),s(y,"width","200"),s(y,"height","200"),s(y,"fill","blue"),s(y,"opacity","0"),s(r,"class","svelte-1oxky7h"),s(e,"width","200"),s(e,"height","200"),s(e,"class","person svelte-1oxky7h"),s(e,"viewBox","-100 -100 200 200"),s(m,"class",S=Re(o[0]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1oxky7h"),R(m,"left",o[1].x+20+"px"),R(m,"top",o[1].y+20+"px")},m(g,p){C(g,e,p),a(e,r),a(r,t),a(r,l),a(r,i),a(r,n),a(r,v),a(r,y),C(g,k,p),C(g,m,p),d&&d.m(m,null),a(m,x),F||(N=[Se(y,"mouseover",O),Se(y,"mouseout",o[5])],F=!0)},p(g,p){o=g,o[0]!==-1?d?d.p(o,p):(d=Je(o),d.c(),d.m(m,x)):d&&(d.d(1),d=null),p&1&&S!==(S=Re(o[0]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1oxky7h")&&s(m,"class",S),p&2&&R(m,"left",o[1].x+20+"px"),p&2&&R(m,"top",o[1].y+20+"px")},d(g){g&&c(e),g&&c(k),g&&c(m),d&&d.d(),F=!1,Ze(N)}}}function lt(o){let e,r=o[2],t=[];for(let l=0;l<r.length;l+=1)t[l]=Ke(qe(o,r,l));return{c(){e=b("main");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=$(l,"MAIN",{class:!0});var i=u(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(c),this.h()},h(){s(e,"class","humans")},m(l,i){C(l,e,i);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(l,[i]){if(i&7){r=l[2];let n;for(n=0;n<r.length;n+=1){const v=qe(l,r,n);t[n]?t[n].p(v,i):(t[n]=Ke(v),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=r.length}},i:U,o:U,d(l){l&&c(e),Ae(t,l)}}}function rt(o,e,r){let t=-1,l={x:0,y:0},{data_person:i=[]}=e,n=Object.values(i);const v=(k,m)=>{r(0,t=k),r(1,l={x:m.pageX,y:m.pageY})},y=k=>{r(0,t=-1)};return o.$$set=k=>{"data_person"in k&&r(3,i=k.data_person)},o.$$.update=()=>{o.$$.dirty&8&&r(2,n=Object.values(i))},[t,l,n,i,v,y]}class Qe extends de{constructor(e){super(),pe(this,e,rt,lt,ge,{data_person:3})}}function Xe(o,e,r){const t=o.slice();return t[4]=e[r],t[6]=r,t}function Ye(o){let e,r;return{c(){e=M("svg"),r=M("circle"),this.h()},l(t){e=T(t,"svg",{width:!0,height:!0,class:!0,viewBox:!0});var l=u(e);r=T(l,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),u(r).forEach(c),l.forEach(c),this.h()},h(){s(r,"cx","-0"),s(r,"cy","-45"),s(r,"r","28"),s(r,"fill","#808080"),s(r,"stroke","#808080"),s(r,"stroke-width","2"),s(e,"width","100"),s(e,"height","100"),s(e,"class","dot svelte-dsoah9"),s(e,"viewBox","-100 -100 200 200")},m(t,l){C(t,e,l),a(e,r)},p:U,d(t){t&&c(e)}}}function st(o){let e,r=o[0],t=[];for(let l=0;l<r.length;l+=1)t[l]=Ye(Xe(o,r,l));return{c(){e=b("main");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=$(l,"MAIN",{class:!0});var i=u(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(c),this.h()},h(){s(e,"class","dots")},m(l,i){C(l,e,i);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(l,[i]){if(i&1){r=l[0];let n;for(n=0;n<r.length;n+=1){const v=Xe(l,r,n);t[n]?t[n].p(v,i):(t[n]=Ye(),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=r.length}},i:U,o:U,d(l){l&&c(e),Ae(t,l)}}}function ot(o,e,r){let{data_dot:t=[]}=e,l=Object.values(t);return o.$$set=i=>{"data_dot"in i&&r(1,t=i.data_dot)},o.$$.update=()=>{o.$$.dirty&2&&r(0,l=Object.values(t))},[l,t]}class Ge extends de{constructor(e){super(),pe(this,e,ot,st,ge,{data_dot:1})}}function Ue(o,e,r){const t=o.slice();return t[17]=e[r],t}function We(o){let e,r=o[17].filter+"",t;return{c(){e=b("option"),t=I(r),this.h()},l(l){e=$(l,"OPTION",{class:!0});var i=u(e);t=P(i,r),i.forEach(c),this.h()},h(){e.__value=o[17],e.value=e.__value,s(e,"class","svelte-1oz7v6i")},m(l,i){C(l,e,i),a(e,t)},p:U,d(l){l&&c(e)}}}function nt(o){let e,r,t,l,i,n,v,y=o[0].text+"",k,m,x,S,F,N,O,d,g=o[0].left_text+"",p,D,f,me,ue,ye,H,ke,A,X,be,$e,Y,xe,he,Ee,V,we,G,Oe,ze,q,W,J,je,Z,K,Q,Ne,Me,ee=o[3],w=[];for(let _=0;_<ee.length;_+=1)w[_]=We(Ue(o,ee,_));return H=new Qe({props:{data_person:o[0].v_filter_on}}),V=new Qe({props:{data_person:o[0].v_filter_off}}),J=new Ge({props:{data_dot:o[0].nv_filter_on}}),K=new Ge({props:{data_dot:o[0].nv_filter_off}}),{c(){e=b("main"),r=b("h2"),t=I('Are some "irregular" migrants experiencing violence at higher rates than others?'),l=z(),i=b("select");for(let _=0;_<w.length;_+=1)w[_].c();n=z(),v=b("p"),k=I(y),m=z(),x=b("h3"),S=I("Migrants reporting violence"),F=z(),N=b("div"),O=b("section"),d=b("p"),p=I(g),D=z(),f=b("p"),me=I("Rate of reported violence: "),ue=I(o[1]),ye=z(),ne(H.$$.fragment),ke=z(),A=b("section"),X=b("p"),be=I("All others"),$e=z(),Y=b("p"),xe=I("Rate of reported violence: "),he=I(o[2]),Ee=z(),ne(V.$$.fragment),we=z(),G=b("h3"),Oe=I("Migrants not reporting violence"),ze=z(),q=b("div"),W=b("section"),ne(J.$$.fragment),je=z(),Z=b("section"),ne(K.$$.fragment),this.h()},l(_){e=$(_,"MAIN",{class:!0});var h=u(e);r=$(h,"H2",{style:!0,class:!0});var L=u(r);t=P(L,'Are some "irregular" migrants experiencing violence at higher rates than others?'),L.forEach(c),l=j(h),i=$(h,"SELECT",{class:!0});var le=u(i);for(let Pe=0;Pe<w.length;Pe+=1)w[Pe].l(le);le.forEach(c),n=j(h),v=$(h,"P",{class:!0});var re=u(v);k=P(re,y),re.forEach(c),m=j(h),x=$(h,"H3",{style:!0,class:!0});var se=u(x);S=P(se,"Migrants reporting violence"),se.forEach(c),F=j(h),N=$(h,"DIV",{class:!0});var E=u(N);O=$(E,"SECTION",{class:!0});var B=u(O);d=$(B,"P",{style:!0,class:!0});var Te=u(d);p=P(Te,g),Te.forEach(c),D=j(B),f=$(B,"P",{class:!0});var De=u(f);me=P(De,"Rate of reported violence: "),ue=P(De,o[1]),De.forEach(c),ye=j(B),ie(H.$$.fragment,B),B.forEach(c),ke=j(E),A=$(E,"SECTION",{class:!0});var te=u(A);X=$(te,"P",{style:!0,class:!0});var Ce=u(X);be=P(Ce,"All others"),Ce.forEach(c),$e=j(te),Y=$(te,"P",{class:!0});var Ie=u(Y);xe=P(Ie,"Rate of reported violence: "),he=P(Ie,o[2]),Ie.forEach(c),Ee=j(te),ie(V.$$.fragment,te),te.forEach(c),E.forEach(c),we=j(h),G=$(h,"H3",{style:!0,class:!0});var Fe=u(G);Oe=P(Fe,"Migrants not reporting violence"),Fe.forEach(c),ze=j(h),q=$(h,"DIV",{class:!0});var ve=u(q);W=$(ve,"SECTION",{class:!0});var Le=u(W);ie(J.$$.fragment,Le),Le.forEach(c),je=j(ve),Z=$(ve,"SECTION",{class:!0});var Be=u(Z);ie(K.$$.fragment,Be),Be.forEach(c),ve.forEach(c),h.forEach(c),this.h()},h(){R(r,"margin-top","5px"),s(r,"class","svelte-1oz7v6i"),s(i,"class","svelte-1oz7v6i"),o[0]===void 0&&et(()=>o[6].call(i)),s(v,"class","svelte-1oz7v6i"),R(x,"margin-top","10px"),s(x,"class","svelte-1oz7v6i"),R(d,"font-style","italic"),s(d,"class","svelte-1oz7v6i"),s(f,"class","svelte-1oz7v6i"),s(O,"class","humans_filter1 svelte-1oz7v6i"),R(X,"font-style","italic"),s(X,"class","svelte-1oz7v6i"),s(Y,"class","svelte-1oz7v6i"),s(A,"class","humans_filter2 svelte-1oz7v6i"),s(N,"class","violence_grid svelte-1oz7v6i"),R(G,"margin-top","10px"),s(G,"class","svelte-1oz7v6i"),s(W,"class","dots_filter1 svelte-1oz7v6i"),s(Z,"class","dots_filter2 svelte-1oz7v6i"),s(q,"class","no_violence_grid svelte-1oz7v6i"),s(e,"class","svelte-1oz7v6i")},m(_,h){C(_,e,h),a(e,r),a(r,t),a(e,l),a(e,i);for(let L=0;L<w.length;L+=1)w[L].m(i,null);He(i,o[0]),a(e,n),a(e,v),a(v,k),a(e,m),a(e,x),a(x,S),a(e,F),a(e,N),a(N,O),a(O,d),a(d,p),a(O,D),a(O,f),a(f,me),a(f,ue),a(O,ye),ae(H,O,null),a(N,ke),a(N,A),a(A,X),a(X,be),a(A,$e),a(A,Y),a(Y,xe),a(Y,he),a(A,Ee),ae(V,A,null),a(e,we),a(e,G),a(G,Oe),a(e,ze),a(e,q),a(q,W),ae(J,W,null),a(q,je),a(q,Z),ae(K,Z,null),Q=!0,Ne||(Me=Se(i,"change",o[6]),Ne=!0)},p(_,[h]){if(h&8){ee=_[3];let E;for(E=0;E<ee.length;E+=1){const B=Ue(_,ee,E);w[E]?w[E].p(B,h):(w[E]=We(B),w[E].c(),w[E].m(i,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=ee.length}h&9&&He(i,_[0]),(!Q||h&1)&&y!==(y=_[0].text+"")&&oe(k,y),(!Q||h&1)&&g!==(g=_[0].left_text+"")&&oe(p,g),(!Q||h&2)&&oe(ue,_[1]);const L={};h&1&&(L.data_person=_[0].v_filter_on),H.$set(L),(!Q||h&4)&&oe(he,_[2]);const le={};h&1&&(le.data_person=_[0].v_filter_off),V.$set(le);const re={};h&1&&(re.data_dot=_[0].nv_filter_on),J.$set(re);const se={};h&1&&(se.data_dot=_[0].nv_filter_off),K.$set(se)},i(_){Q||(ce(H.$$.fragment,_),ce(V.$$.fragment,_),ce(J.$$.fragment,_),ce(K.$$.fragment,_),Q=!0)},o(_){_e(H.$$.fragment,_),_e(V.$$.fragment,_),_e(J.$$.fragment,_),_e(K.$$.fragment,_),Q=!1},d(_){_&&c(e),Ae(w,_),fe(H),fe(V),fe(J),fe(K),Ne=!1,Me()}}}function it(o,e,r){let t=Ve.filter(f=>f.experienced_violence_yn==1),l=Ve.filter(f=>f.experienced_violence_yn==0),i=t.filter(f=>f.mig_ext_sex==1),n=t.filter(f=>f.mig_ext_sex!=1),v=l.filter(f=>f.mig_ext_sex==1),y=l.filter(f=>f.mig_ext_sex!=1),k=Object.keys(i).length/(Object.keys(i).length+Object.keys(v).length),m=Number(k).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2}),x=Object.keys(n).length/(Object.keys(y).length+Object.keys(n).length),S=Number(x).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2}),F=t.filter(f=>f.motivation==1),N=t.filter(f=>f.motivation!=1),O=l.filter(f=>f.motivation==1),d=l.filter(f=>f.motivation=1);const g=[{filter:"Data by gender",left_text:"Female migrants",text:"Female migrants in the data were less likely to report violence.",v_filter_on:i,nv_filter_on:v,v_filter_off:n,nv_filter_off:y},{filter:"Data by motivation to migrate",left_text:"Migrants motivated by deteriorating livelihoods from natural hazards",text:"People migrating because of deterioration of livelihoods due to natural hazards (floods, droughts, volcanic eruptions, hurricanes, plagues, etc.) were more likely to experience violence than those migrating for other reasons.",v_filter_on:F,nv_filter_on:O,v_filter_off:N,nv_filter_off:d},{filter:"Data by accompanying travelers"}];let p=g[0];function D(){p=tt(this),r(0,p),r(3,g)}return o.$$.update=()=>{o.$$.dirty&49&&(r(4,k=Object.keys(p.v_filter_on).length/(Object.keys(p.v_filter_on).length+Object.keys(p.nv_filter_on).length)),r(1,m=Number(k).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})),r(5,x=Object.keys(p.v_filter_off).length/(Object.keys(p.v_filter_off).length+Object.keys(p.nv_filter_off).length)),r(2,S=Number(x).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})))},[p,m,S,g,k,x,D]}class at extends de{constructor(e){super(),pe(this,e,it,nt,ge,{})}}function ct(o){let e,r;return e=new at({}),{c(){ne(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ae(e,t,l),r=!0},p:U,i(t){r||(ce(e.$$.fragment,t),r=!0)},o(t){_e(e.$$.fragment,t),r=!1},d(t){fe(e,t)}}}class ut extends de{constructor(e){super(),pe(this,e,null,ct,ge,{})}}export{ut as default};
