import{S as we,i as Ee,s as Oe,k as S,J as G,a as C,l as N,m as v,K as J,h as p,c as q,n,L as Pe,p as $,b as V,G as _,H as ye,M as He,N as M,O as Fe,q as I,r as T,u as re,y as se,z as ne,A as oe,g as ae,d as ie,B as ce,e as de,P as me}from"../chunks/index.6dba7111.js";import{r as Ie,I as Te,o as je,p as Ae,h as Ce,a as _e}from"../chunks/all_violence_data.2787399c.js";import{B as qe}from"../chunks/ButtonContainer.a1caac67.js";import"../chunks/transform.90f3feb5.js";function Me(r,t,e){const l=r.slice();return l[20]=t[e],l[22]=e,l}function Ve(r){let t,e,l,o,s,a,c,d,h,i,g,u,b,w,y;function B(...E){return r[15](r[20],...E)}return{c(){t=G("g"),e=G("svg"),l=G("svg"),o=G("g"),s=G("path"),h=G("clipPath"),i=G("circle"),this.h()},l(E){t=J(E,"g",{class:!0,transform:!0});var O=v(t);e=J(O,"svg",{class:!0,height:!0,width:!0,viewBox:!0});var P=v(e);l=J(P,"svg",{xmlns:!0,"xml:space":!0,height:!0,width:!0,version:!0,x:!0,y:!0,"xmlns:ns":!0,"enable-background":!0,viewBox:!0});var j=v(l);o=J(j,"g",{"ns:extraneous":!0,class:!0});var D=v(o);s=J(D,"path",{"stroke-width":!0,d:!0,fill:!0,"fill-opacity":!0}),v(s).forEach(p),D.forEach(p),j.forEach(p),P.forEach(p),h=J(O,"clipPath",{id:!0});var f=v(h);i=J(f,"circle",{r:!0}),v(i).forEach(p),f.forEach(p),O.forEach(p),this.h()},h(){n(s,"stroke-width","1.25"),n(s,"d","m62.096 8.5859c-5.208 0-9.424 4.2191-9.424 9.4261 0.001 5.203 4.217 9.424 9.424 9.424 5.202 0 9.422-4.221 9.422-9.424 0-5.208-4.22-9.4261-9.422-9.4261zm-10.41 21.268c-6.672 0-12.131 5.407-12.131 12.07v29.23c0 2.275 1.791 4.123 4.07 4.123 2.28 0 4.127-1.846 4.127-4.123v-26.355h2.102s0.048 68.811 0.048 73.331c0 3.05 2.478 5.53 5.532 5.53 3.052 0 5.525-2.48 5.525-5.53v-42.581h2.27v42.581c0 3.05 2.473 5.53 5.531 5.53 3.054 0 5.549-2.48 5.549-5.53v-73.331h2.127v26.355c0 2.275 1.85 4.123 4.126 4.123 2.28 0 4.073-1.846 4.073-4.123v-29.23c0-6.663-5.463-12.07-12.129-12.07h-20.82z"),n(s,"fill",a=r[0]?r[4](r[0][r[20].data]):Le),n(s,"fill-opacity",Je),n(o,"ns:extraneous","self"),n(o,"class","svelte-1gqmw40"),n(l,"xmlns","http://www.w3.org/2000/svg"),n(l,"xml:space","preserve"),n(l,"height","132.24px"),n(l,"width","124.19px"),n(l,"version","1.1"),n(l,"x","0px"),n(l,"y","0px"),n(l,"xmlns:ns","&#38;ns_ai;"),n(l,"enable-background","new 0 0 124.189 132.243"),n(l,"viewBox","75 0 44.189 132.243"),n(e,"class","person svelte-1gqmw40"),n(e,"height",c=2*r[20].r),n(e,"width",d=2*r[20].r),n(e,"viewBox","0 0 100 120"),n(i,"r",g=r[20].r),n(h,"id",u=`${r[9]}-clip-${r[20].data}`),n(t,"class","node svelte-1gqmw40"),n(t,"transform",b="translate("+r[20].x+","+r[20].y+")")},m(E,O){V(E,t,O),_(t,e),_(e,l),_(l,o),_(o,s),_(t,h),_(h,i),w||(y=[M(e,"mouseover",B),M(e,"mouseout",r[16])],w=!0)},p(E,O){r=E,O&49&&a!==(a=r[0]?r[4](r[0][r[20].data]):Le)&&n(s,"fill",a),O&32&&c!==(c=2*r[20].r)&&n(e,"height",c),O&32&&d!==(d=2*r[20].r)&&n(e,"width",d),O&32&&g!==(g=r[20].r)&&n(i,"r",g),O&32&&u!==(u=`${r[9]}-clip-${r[20].data}`)&&n(h,"id",u),O&32&&b!==(b="translate("+r[20].x+","+r[20].y+")")&&n(t,"transform",b)},d(E){E&&p(t),w=!1,Fe(y)}}}function ze(r){let t,e=r[3][r[1].data]+"",l,o;return{c(){t=I("Type of violence reported: `"),l=I(e),o=I("`")},l(s){t=T(s,"Type of violence reported: `"),l=T(s,e),o=T(s,"`")},m(s,a){V(s,t,a),V(s,l,a),V(s,o,a)},p(s,a){a&10&&e!==(e=s[3][s[1].data]+"")&&re(l,e)},d(s){s&&p(t),s&&p(l),s&&p(o)}}}function Ue(r){let t,e,l,o,s,a,c=r[5].leaves(),d=[];for(let i=0;i<c.length;i+=1)d[i]=Ve(Me(r,c,i));let h=r[1]!==-1&&ze(r);return{c(){t=S("main"),e=S("div"),l=G("svg");for(let i=0;i<d.length;i+=1)d[i].c();o=C(),s=S("div"),h&&h.c(),this.h()},l(i){t=N(i,"MAIN",{class:!0});var g=v(t);e=N(g,"DIV",{class:!0});var u=v(e);l=J(u,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var b=v(l);for(let y=0;y<d.length;y+=1)d[y].l(b);b.forEach(p),o=q(u),s=N(u,"DIV",{class:!0,style:!0});var w=v(s);h&&h.l(w),w.forEach(p),u.forEach(p),g.forEach(p),this.h()},h(){n(l,"width",ue),n(l,"height",r[6]),n(l,"viewBox",-r[7]+" "+-r[8]+" "+ue+" "+r[6]),n(l,"fill",Ge),n(l,"class","person svelte-1gqmw40"),n(s,"class",a=Pe(r[1]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1gqmw40"),$(s,"left",r[2].x+2+"px"),$(s,"top",r[2].y+2+"px"),n(e,"class","violence_grid svelte-1gqmw40"),n(t,"class","circles svelte-1gqmw40")},m(i,g){V(i,t,g),_(t,e),_(e,l);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(l,null);_(e,o),_(e,s),h&&h.m(s,null)},p(i,[g]){if(g&567){c=i[5].leaves();let u;for(u=0;u<c.length;u+=1){const b=Me(i,c,u);d[u]?d[u].p(b,g):(d[u]=Ve(b),d[u].c(),d[u].m(l,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=c.length}i[1]!==-1?h?h.p(i,g):(h=ze(i),h.c(),h.m(s,null)):h&&(h.d(1),h=null),g&2&&a!==(a=Pe(i[1]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1gqmw40")&&n(s,"class",a),g&4&&$(s,"left",i[2].x+2+"px"),g&4&&$(s,"top",i[2].y+2+"px")},i:ye,o:ye,d(i){i&&p(t),He(d,i),h&&h.d()}}}const ue=600,$e=3,he=1,Ge="black",Le="#ccc",Je=.9;function Ke(r,t,e){let{data_dot:l=[]}=t,o=Object.values(l),s=-1,a={x:0,y:0};const c=ue,d=he,h=he,i=he,g=he;o.map(f=>f);let u=o.map(f=>f.experienced_violence_yn),b=o.map(f=>f.experienced_violence_yn),w=Ie(u.length).filter(f=>u[f]>=0),y=o.map(f=>f.violence_strings),B=w.map(f=>b[f]);B=new Te(B);let E=je(B).domain([0,1]).range(["#964CAD","#F8553D"]);const O=`O-${Math.random().toString(16).slice(2)}`;let P=Ae().size([ue-d-h,c-i-g]).radius(f=>10).padding($e)(Ce({children:w}).sum(f=>u[f]));const j=(f,L)=>{e(1,s=f),e(2,a={x:L.pageX,y:L.pageY})},D=f=>{e(1,s=-1)};return r.$$set=f=>{"data_dot"in f&&e(10,l=f.data_dot)},r.$$.update=()=>{r.$$.dirty&1024&&e(11,o=Object.values(l)),r.$$.dirty&30721&&(o.map(f=>f),e(12,u=o.map(f=>f.experienced_violence_yn)),e(0,b=o.map(f=>f.experienced_violence_yn)),e(13,w=Ie(u.length).filter(f=>u[f]>=0)),e(3,y=o.map(f=>f.violence_strings)),e(14,B=w.map(f=>b[f])),e(14,B=new Te(B)),e(4,E=je(B).domain([0,1]).range(["#964CAD","#F8553D"]))),r.$$.dirty&12288&&e(5,P=Ae().size([ue-d-h,c-i-g]).radius(f=>6).padding($e)(Ce({children:w}).sum(f=>u[f])))},[b,s,a,y,E,P,c,d,i,O,l,o,u,w,B,j,D]}class Re extends we{constructor(t){super(),Ee(this,t,Ke,Ue,Oe,{data_dot:10})}}function Xe(r){let t,e,l,o,s;return{c(){t=S("button"),e=I("Back"),this.h()},l(a){t=N(a,"BUTTON",{class:!0,"data-name":!0});var c=v(t);e=T(c,"Back"),c.forEach(p),this.h()},h(){n(t,"class","btn svelte-rkd8eh"),n(t,"data-name",l=r[8].filter),t.value=r[8],me(t,"active",r[5]!==-1)},m(a,c){V(a,t,c),_(t,e),o||(s=[M(t,"click",r[15]),M(t,"click",r[16]),M(t,"mouseover",r[17]),M(t,"mouseout",r[18])],o=!0)},p(a,c){c&256&&l!==(l=a[8].filter)&&n(t,"data-name",l),c&256&&(t.value=a[8]),c&32&&me(t,"active",a[5]!==-1)},d(a){a&&p(t),o=!1,Fe(s)}}}function Qe(r){let t,e=r[0]!=0&&Xe(r);return{c(){e&&e.c(),t=de()},l(l){e&&e.l(l),t=de()},m(l,o){e&&e.m(l,o),V(l,t,o)},p(l,o){l[0]!=0?e?e.p(l,o):(e=Xe(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&p(t)}}}function Ye(r){let t,e,l,o,s;return{c(){t=S("button"),e=I("Continue"),this.h()},l(a){t=N(a,"BUTTON",{class:!0,"data-name":!0});var c=v(t);e=T(c,"Continue"),c.forEach(p),this.h()},h(){n(t,"class","btn svelte-rkd8eh"),n(t,"data-name",l=r[7].filter),t.value=r[7],me(t,"active",r[4]!==-1)},m(a,c){V(a,t,c),_(t,e),o||(s=[M(t,"click",r[19]),M(t,"click",r[20]),M(t,"mouseover",r[21]),M(t,"mouseout",r[22])],o=!0)},p(a,c){c&128&&l!==(l=a[7].filter)&&n(t,"data-name",l),c&128&&(t.value=a[7]),c&16&&me(t,"active",a[4]!==-1)},d(a){a&&p(t),o=!1,Fe(s)}}}function We(r){let t,e=r[0]!=3&&Ye(r);return{c(){e&&e.c(),t=de()},l(l){e&&e.l(l),t=de()},m(l,o){e&&e.m(l,o),V(l,t,o)},p(l,o){l[0]!=3?e?e.p(l,o):(e=Ye(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&p(t)}}}function Ze(r){let t,e,l,o,s,a=r[1].text+"",c,d,h,i,g,u=r[1].left_text+"",b,w,y,B,E,O,P,j,D,f,L,x,A,ee,m,pe,R,ge,X,Q,Y,ve,W,H,U;return P=new Re({props:{data_dot:r[2]}}),R=new Re({props:{data_dot:r[3]}}),Y=new qe({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),H=new qe({props:{$$slots:{default:[We]},$$scope:{ctx:r}}}),{c(){t=S("main"),e=S("h2"),l=I('Are some "irregular" migrants experiencing violence at higher rates than others?'),o=C(),s=S("p"),c=I(a),d=C(),h=S("div"),i=S("section"),g=S("p"),b=I(u),w=C(),y=S("p"),B=I("Rate of reported violence: "),E=I(r[9]),O=C(),se(P.$$.fragment),j=C(),D=S("section"),f=S("p"),L=I("All others"),x=C(),A=S("p"),ee=I("Rate of reported violence: "),m=I(r[10]),pe=C(),se(R.$$.fragment),ge=C(),X=S("div"),Q=S("section"),se(Y.$$.fragment),ve=C(),W=S("section"),se(H.$$.fragment),this.h()},l(k){t=N(k,"MAIN",{class:!0});var F=v(t);e=N(F,"H2",{style:!0,class:!0});var te=v(e);l=T(te,'Are some "irregular" migrants experiencing violence at higher rates than others?'),te.forEach(p),o=q(F),s=N(F,"P",{class:!0});var le=v(s);c=T(le,a),le.forEach(p),d=q(F),h=N(F,"DIV",{class:!0});var K=v(h);i=N(K,"SECTION",{class:!0});var z=v(i);g=N(z,"P",{style:!0,class:!0});var Se=v(g);b=T(Se,u),Se.forEach(p),w=q(z),y=N(z,"P",{style:!0,class:!0});var be=v(y);B=T(be,"Rate of reported violence: "),E=T(be,r[9]),be.forEach(p),O=q(z),ne(P.$$.fragment,z),z.forEach(p),j=q(K),D=N(K,"SECTION",{class:!0});var Z=v(D);f=N(Z,"P",{style:!0,class:!0});var Ne=v(f);L=T(Ne,"All others"),Ne.forEach(p),x=q(Z),A=N(Z,"P",{style:!0,class:!0});var ke=v(A);ee=T(ke,"Rate of reported violence: "),m=T(ke,r[10]),ke.forEach(p),pe=q(Z),ne(R.$$.fragment,Z),Z.forEach(p),K.forEach(p),ge=q(F),X=N(F,"DIV",{class:!0});var fe=v(X);Q=N(fe,"SECTION",{class:!0});var Be=v(Q);ne(Y.$$.fragment,Be),Be.forEach(p),ve=q(fe),W=N(fe,"SECTION",{class:!0});var De=v(W);ne(H.$$.fragment,De),De.forEach(p),fe.forEach(p),F.forEach(p),this.h()},h(){$(e,"margin-top","5px"),n(e,"class","svelte-rkd8eh"),n(s,"class","svelte-rkd8eh"),$(g,"font-style","italic"),n(g,"class","svelte-rkd8eh"),$(y,"color","#F8553D"),n(y,"class","svelte-rkd8eh"),n(i,"class","humans_filter1 svelte-rkd8eh"),$(f,"font-style","italic"),n(f,"class","svelte-rkd8eh"),$(A,"color","#F8553D"),n(A,"class","svelte-rkd8eh"),n(D,"class","humans_filter2 svelte-rkd8eh"),n(h,"class","violence_grid svelte-rkd8eh"),n(Q,"class","back_buttons svelte-rkd8eh"),n(W,"class","continue_buttons svelte-rkd8eh"),n(X,"class","buttons_grid svelte-rkd8eh"),n(t,"class","svelte-rkd8eh")},m(k,F){V(k,t,F),_(t,e),_(e,l),_(t,o),_(t,s),_(s,c),_(t,d),_(t,h),_(h,i),_(i,g),_(g,b),_(i,w),_(i,y),_(y,B),_(y,E),_(i,O),oe(P,i,null),_(h,j),_(h,D),_(D,f),_(f,L),_(D,x),_(D,A),_(A,ee),_(A,m),_(D,pe),oe(R,D,null),_(t,ge),_(t,X),_(X,Q),oe(Y,Q,null),_(X,ve),_(X,W),oe(H,W,null),U=!0},p(k,[F]){(!U||F&2)&&a!==(a=k[1].text+"")&&re(c,a),(!U||F&2)&&u!==(u=k[1].left_text+"")&&re(b,u),(!U||F&512)&&re(E,k[9]);const te={};F&4&&(te.data_dot=k[2]),P.$set(te),(!U||F&1024)&&re(m,k[10]);const le={};F&8&&(le.data_dot=k[3]),R.$set(le);const K={};F&16777571&&(K.$$scope={dirty:F,ctx:k}),Y.$set(K);const z={};F&16777427&&(z.$$scope={dirty:F,ctx:k}),H.$set(z)},i(k){U||(ae(P.$$.fragment,k),ae(R.$$.fragment,k),ae(Y.$$.fragment,k),ae(H.$$.fragment,k),U=!0)},o(k){ie(P.$$.fragment,k),ie(R.$$.fragment,k),ie(Y.$$.fragment,k),ie(H.$$.fragment,k),U=!1},d(k){k&&p(t),ce(P),ce(R),ce(Y),ce(H)}}}function xe(r,t,e){let l=-1,o=-1,s={x:0,y:0},a=[{filter:"Sort by gender",filterFunction:m=>m.mig_ext_sex===1,left_text:"Female migrants",text:"Female migrants in the data were less likely to report violence."},{filter:"Sort by motivation to migrate",filterFunction:m=>m.motivation===1,left_text:"Migrants motivated by deteriorating livelihoods from natural hazards",text:"People migrating because of deterioration of livelihoods due to natural hazards (floods, droughts, volcanic eruptions, hurricanes, plagues, etc.) were more likely to experience violence than those migrating for other reasons."},{filter:"Sort by accompanying travelers",filterFunction:m=>m.acompany===1,left_text:"Migrants traveling alone",text:"Migrants traveling alone had higher rates of reported violence."},{filter:"Sort by mode of travel",filterFunction:m=>m.medio===1,left_text:"Migrants traveling in a caravan",text:"Migrants traveling in a caravan reported higher rates of violence than migrants traveling with a cajote or through their own method."}],c=0,d=a[c],h=a[c+1],i=a[c-1],g=_e.filter(m=>d.filterFunction(m)),u=_e.filter(m=>!d.filterFunction(m)),b=g.filter(m=>m.experienced_violence_yn==1),w=u.filter(m=>m.experienced_violence_yn==0),y=Object.keys(b).length/Object.keys(g).length,B=Number(y).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2}),E=Object.keys(w).length/Object.keys(u).length,O=Number(E).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2});const P=()=>e(1,d=i),j=()=>e(0,c=c-1),D=m=>{e(5,o=1),e(6,s={x:m.pageX,y:m.pageY})},f=m=>{e(5,o=-1)},L=()=>e(1,d=h),x=()=>e(0,c=c+1),A=m=>{e(4,l=1),e(6,s={x:m.pageX,y:m.pageY})},ee=m=>{e(4,l=-1)};return r.$$.update=()=>{r.$$.dirty&1&&(e(7,h=a[c+1]),e(8,i=a[c-1])),r.$$.dirty&2&&(e(2,g=_e.filter(m=>d.filterFunction(m))),e(3,u=_e.filter(m=>!d.filterFunction(m)))),r.$$.dirty&30732&&(e(11,b=g.filter(m=>m.experienced_violence_yn==1)),e(12,w=u.filter(m=>m.experienced_violence_yn==1)),e(13,y=Object.keys(b).length/Object.keys(g).length),e(9,B=Number(y).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})),e(14,E=Object.keys(w).length/Object.keys(u).length),e(10,O=Number(E).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})))},[c,d,g,u,l,o,s,h,i,B,O,b,w,y,E,P,j,D,f,L,x,A,ee]}class et extends we{constructor(t){super(),Ee(this,t,xe,Ze,Oe,{})}}function tt(r){let t,e;return t=new et({}),{c(){se(t.$$.fragment)},l(l){ne(t.$$.fragment,l)},m(l,o){oe(t,l,o),e=!0},p:ye,i(l){e||(ae(t.$$.fragment,l),e=!0)},o(l){ie(t.$$.fragment,l),e=!1},d(l){ce(t,l)}}}class ot extends we{constructor(t){super(),Ee(this,t,null,tt,Oe,{})}}export{ot as default};
