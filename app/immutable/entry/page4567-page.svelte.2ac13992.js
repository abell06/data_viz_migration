import{S as we,i as Ee,s as Oe,k as S,J as G,a as C,l as N,m as v,K as J,h as m,c as M,n,L as Pe,p as L,b as z,G as _,H as ye,M as He,N as V,O as Fe,q as I,r as T,u as re,y as se,z as ne,A as ae,g as oe,d as ie,B as ce,e as de,P as pe}from"../chunks/index.a87e4498.js";import{r as Ie,I as Te,o as je,p as Ae,h as Ce,a as _e}from"../chunks/all_violence_data.80932636.js";import{B as Me}from"../chunks/ButtonContainer.70c02bbb.js";import"../chunks/transform.90f3feb5.js";function Ve(r,t,e){const l=r.slice();return l[20]=t[e],l[22]=e,l}function ze(r){let t,e,l,a,s,o,c,d,h,i,g,u,k,w,y;function B(...E){return r[15](r[20],...E)}return{c(){t=G("g"),e=G("svg"),l=G("svg"),a=G("g"),s=G("path"),h=G("clipPath"),i=G("circle"),this.h()},l(E){t=J(E,"g",{class:!0,transform:!0});var O=v(t);e=J(O,"svg",{class:!0,height:!0,width:!0,viewBox:!0});var P=v(e);l=J(P,"svg",{xmlns:!0,"xml:space":!0,height:!0,width:!0,version:!0,x:!0,y:!0,"xmlns:ns":!0,"enable-background":!0,viewBox:!0});var j=v(l);a=J(j,"g",{"ns:extraneous":!0,class:!0});var D=v(a);s=J(D,"path",{"stroke-width":!0,d:!0,fill:!0,"fill-opacity":!0}),v(s).forEach(m),D.forEach(m),j.forEach(m),P.forEach(m),h=J(O,"clipPath",{id:!0});var f=v(h);i=J(f,"circle",{r:!0}),v(i).forEach(m),f.forEach(m),O.forEach(m),this.h()},h(){n(s,"stroke-width","1.25"),n(s,"d","m62.096 8.5859c-5.208 0-9.424 4.2191-9.424 9.4261 0.001 5.203 4.217 9.424 9.424 9.424 5.202 0 9.422-4.221 9.422-9.424 0-5.208-4.22-9.4261-9.422-9.4261zm-10.41 21.268c-6.672 0-12.131 5.407-12.131 12.07v29.23c0 2.275 1.791 4.123 4.07 4.123 2.28 0 4.127-1.846 4.127-4.123v-26.355h2.102s0.048 68.811 0.048 73.331c0 3.05 2.478 5.53 5.532 5.53 3.052 0 5.525-2.48 5.525-5.53v-42.581h2.27v42.581c0 3.05 2.473 5.53 5.531 5.53 3.054 0 5.549-2.48 5.549-5.53v-73.331h2.127v26.355c0 2.275 1.85 4.123 4.126 4.123 2.28 0 4.073-1.846 4.073-4.123v-29.23c0-6.663-5.463-12.07-12.129-12.07h-20.82z"),n(s,"fill",o=r[0]?r[4](r[0][r[20].data]):Re),n(s,"fill-opacity",Je),n(a,"ns:extraneous","self"),n(a,"class","svelte-1aa1kfe"),n(l,"xmlns","http://www.w3.org/2000/svg"),n(l,"xml:space","preserve"),n(l,"height","132.24px"),n(l,"width","124.19px"),n(l,"version","1.1"),n(l,"x","0px"),n(l,"y","0px"),n(l,"xmlns:ns","&#38;ns_ai;"),n(l,"enable-background","new 0 0 124.189 132.243"),n(l,"viewBox","75 0 44.189 132.243"),n(e,"class","person svelte-1aa1kfe"),n(e,"height",c=2*r[20].r),n(e,"width",d=2*r[20].r),n(e,"viewBox","0 0 100 120"),n(i,"r",g=r[20].r),n(h,"id",u=`${r[9]}-clip-${r[20].data}`),n(t,"class","node svelte-1aa1kfe"),n(t,"transform",k="translate("+r[20].x+","+r[20].y+")")},m(E,O){z(E,t,O),_(t,e),_(e,l),_(l,a),_(a,s),_(t,h),_(h,i),w||(y=[V(e,"mouseover",B),V(e,"mouseout",r[16])],w=!0)},p(E,O){r=E,O&49&&o!==(o=r[0]?r[4](r[0][r[20].data]):Re)&&n(s,"fill",o),O&32&&c!==(c=2*r[20].r)&&n(e,"height",c),O&32&&d!==(d=2*r[20].r)&&n(e,"width",d),O&32&&g!==(g=r[20].r)&&n(i,"r",g),O&32&&u!==(u=`${r[9]}-clip-${r[20].data}`)&&n(h,"id",u),O&32&&k!==(k="translate("+r[20].x+","+r[20].y+")")&&n(t,"transform",k)},d(E){E&&m(t),w=!1,Fe(y)}}}function $e(r){let t,e=r[3][r[1].data]+"",l,a;return{c(){t=I("Type of violence reported: `"),l=I(e),a=I("`")},l(s){t=T(s,"Type of violence reported: `"),l=T(s,e),a=T(s,"`")},m(s,o){z(s,t,o),z(s,l,o),z(s,a,o)},p(s,o){o&10&&e!==(e=s[3][s[1].data]+"")&&re(l,e)},d(s){s&&m(t),s&&m(l),s&&m(a)}}}function Ue(r){let t,e,l,a,s,o,c=r[5].leaves(),d=[];for(let i=0;i<c.length;i+=1)d[i]=ze(Ve(r,c,i));let h=r[1]!==-1&&$e(r);return{c(){t=S("main"),e=S("div"),l=G("svg");for(let i=0;i<d.length;i+=1)d[i].c();a=C(),s=S("div"),h&&h.c(),this.h()},l(i){t=N(i,"MAIN",{class:!0});var g=v(t);e=N(g,"DIV",{class:!0});var u=v(e);l=J(u,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var k=v(l);for(let y=0;y<d.length;y+=1)d[y].l(k);k.forEach(m),a=M(u),s=N(u,"DIV",{class:!0,style:!0});var w=v(s);h&&h.l(w),w.forEach(m),u.forEach(m),g.forEach(m),this.h()},h(){n(l,"width",ue),n(l,"height",r[6]),n(l,"viewBox",-r[7]+" "+-r[8]+" "+ue+" "+r[6]),n(l,"fill",Ge),n(l,"class","person svelte-1aa1kfe"),n(s,"class",o=Pe(r[1]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1aa1kfe"),L(s,"left",r[2].x+2+"px"),L(s,"top",r[2].y+2+"px"),n(e,"class","violence_grid svelte-1aa1kfe"),n(t,"class","circles svelte-1aa1kfe")},m(i,g){z(i,t,g),_(t,e),_(e,l);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(l,null);_(e,a),_(e,s),h&&h.m(s,null)},p(i,[g]){if(g&567){c=i[5].leaves();let u;for(u=0;u<c.length;u+=1){const k=Ve(i,c,u);d[u]?d[u].p(k,g):(d[u]=ze(k),d[u].c(),d[u].m(l,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=c.length}i[1]!==-1?h?h.p(i,g):(h=$e(i),h.c(),h.m(s,null)):h&&(h.d(1),h=null),g&2&&o!==(o=Pe(i[1]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1aa1kfe")&&n(s,"class",o),g&4&&L(s,"left",i[2].x+2+"px"),g&4&&L(s,"top",i[2].y+2+"px")},i:ye,o:ye,d(i){i&&m(t),He(d,i),h&&h.d()}}}const ue=800,Le=3,he=1,Ge="black",Re="#ccc",Je=.9;function Ke(r,t,e){let{data_dot:l=[]}=t,a=Object.values(l),s=-1,o={x:0,y:0};const c=ue,d=he,h=he,i=he,g=he;a.map(f=>f);let u=a.map(f=>f.experienced_violence_yn),k=a.map(f=>f.experienced_violence_yn),w=Ie(u.length).filter(f=>u[f]>=0),y=a.map(f=>f.violence_strings),B=w.map(f=>k[f]);B=new Te(B);let E=je(B).domain([0,1]).range(["#964CAD","#F8553D"]);const O=`O-${Math.random().toString(16).slice(2)}`;let P=Ae().size([ue-d-h,c-i-g]).radius(f=>10).padding(Le)(Ce({children:w}).sum(f=>u[f]));const j=(f,R)=>{e(1,s=f),e(2,o={x:R.pageX,y:R.pageY})},D=f=>{e(1,s=-1)};return r.$$set=f=>{"data_dot"in f&&e(10,l=f.data_dot)},r.$$.update=()=>{r.$$.dirty&1024&&e(11,a=Object.values(l)),r.$$.dirty&30721&&(a.map(f=>f),e(12,u=a.map(f=>f.experienced_violence_yn)),e(0,k=a.map(f=>f.experienced_violence_yn)),e(13,w=Ie(u.length).filter(f=>u[f]>=0)),e(3,y=a.map(f=>f.violence_strings)),e(14,B=w.map(f=>k[f])),e(14,B=new Te(B)),e(4,E=je(B).domain([0,1]).range(["#964CAD","#F8553D"]))),r.$$.dirty&12288&&e(5,P=Ae().size([ue-d-h,c-i-g]).radius(f=>8).padding(Le)(Ce({children:w}).sum(f=>u[f])))},[k,s,o,y,E,P,c,d,i,O,l,a,u,w,B,j,D]}class Xe extends we{constructor(t){super(),Ee(this,t,Ke,Ue,Oe,{data_dot:10})}}function Ye(r){let t,e,l,a,s;return{c(){t=S("button"),e=I("Back"),this.h()},l(o){t=N(o,"BUTTON",{class:!0,"data-name":!0});var c=v(t);e=T(c,"Back"),c.forEach(m),this.h()},h(){n(t,"class","btn svelte-rkd8eh"),n(t,"data-name",l=r[8].filter),t.value=r[8],pe(t,"active",r[5]!==-1)},m(o,c){z(o,t,c),_(t,e),a||(s=[V(t,"click",r[15]),V(t,"click",r[16]),V(t,"mouseover",r[17]),V(t,"mouseout",r[18])],a=!0)},p(o,c){c&256&&l!==(l=o[8].filter)&&n(t,"data-name",l),c&256&&(t.value=o[8]),c&32&&pe(t,"active",o[5]!==-1)},d(o){o&&m(t),a=!1,Fe(s)}}}function Qe(r){let t,e=r[0]!=0&&Ye(r);return{c(){e&&e.c(),t=de()},l(l){e&&e.l(l),t=de()},m(l,a){e&&e.m(l,a),z(l,t,a)},p(l,a){l[0]!=0?e?e.p(l,a):(e=Ye(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&m(t)}}}function qe(r){let t,e,l,a,s;return{c(){t=S("button"),e=I("Continue"),this.h()},l(o){t=N(o,"BUTTON",{class:!0,"data-name":!0});var c=v(t);e=T(c,"Continue"),c.forEach(m),this.h()},h(){n(t,"class","btn svelte-rkd8eh"),n(t,"data-name",l=r[7].filter),t.value=r[7],pe(t,"active",r[4]!==-1)},m(o,c){z(o,t,c),_(t,e),a||(s=[V(t,"click",r[19]),V(t,"click",r[20]),V(t,"mouseover",r[21]),V(t,"mouseout",r[22])],a=!0)},p(o,c){c&128&&l!==(l=o[7].filter)&&n(t,"data-name",l),c&128&&(t.value=o[7]),c&16&&pe(t,"active",o[4]!==-1)},d(o){o&&m(t),a=!1,Fe(s)}}}function We(r){let t,e=r[0]!=3&&qe(r);return{c(){e&&e.c(),t=de()},l(l){e&&e.l(l),t=de()},m(l,a){e&&e.m(l,a),z(l,t,a)},p(l,a){l[0]!=3?e?e.p(l,a):(e=qe(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&m(t)}}}function Ze(r){let t,e,l,a,s,o=r[1].text+"",c,d,h,i,g,u=r[1].left_text+"",k,w,y,B,E,O,P,j,D,f,R,x,A,ee,p,me,X,ge,Y,Q,q,ve,W,H,U;return P=new Xe({props:{data_dot:r[2]}}),X=new Xe({props:{data_dot:r[3]}}),q=new Me({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),H=new Me({props:{$$slots:{default:[We]},$$scope:{ctx:r}}}),{c(){t=S("main"),e=S("h2"),l=I('Are some "irregular" migrants experiencing violence at higher rates than others?'),a=C(),s=S("p"),c=I(o),d=C(),h=S("div"),i=S("section"),g=S("p"),k=I(u),w=C(),y=S("p"),B=I("Rate of reported violence: "),E=I(r[9]),O=C(),se(P.$$.fragment),j=C(),D=S("section"),f=S("p"),R=I("All others"),x=C(),A=S("p"),ee=I("Rate of reported violence: "),p=I(r[10]),me=C(),se(X.$$.fragment),ge=C(),Y=S("div"),Q=S("section"),se(q.$$.fragment),ve=C(),W=S("section"),se(H.$$.fragment),this.h()},l(b){t=N(b,"MAIN",{class:!0});var F=v(t);e=N(F,"H2",{style:!0,class:!0});var te=v(e);l=T(te,'Are some "irregular" migrants experiencing violence at higher rates than others?'),te.forEach(m),a=M(F),s=N(F,"P",{class:!0});var le=v(s);c=T(le,o),le.forEach(m),d=M(F),h=N(F,"DIV",{class:!0});var K=v(h);i=N(K,"SECTION",{class:!0});var $=v(i);g=N($,"P",{style:!0,class:!0});var Se=v(g);k=T(Se,u),Se.forEach(m),w=M($),y=N($,"P",{style:!0,class:!0});var ke=v(y);B=T(ke,"Rate of reported violence: "),E=T(ke,r[9]),ke.forEach(m),O=M($),ne(P.$$.fragment,$),$.forEach(m),j=M(K),D=N(K,"SECTION",{class:!0});var Z=v(D);f=N(Z,"P",{style:!0,class:!0});var Ne=v(f);R=T(Ne,"All others"),Ne.forEach(m),x=M(Z),A=N(Z,"P",{style:!0,class:!0});var be=v(A);ee=T(be,"Rate of reported violence: "),p=T(be,r[10]),be.forEach(m),me=M(Z),ne(X.$$.fragment,Z),Z.forEach(m),K.forEach(m),ge=M(F),Y=N(F,"DIV",{class:!0});var fe=v(Y);Q=N(fe,"SECTION",{class:!0});var Be=v(Q);ne(q.$$.fragment,Be),Be.forEach(m),ve=M(fe),W=N(fe,"SECTION",{class:!0});var De=v(W);ne(H.$$.fragment,De),De.forEach(m),fe.forEach(m),F.forEach(m),this.h()},h(){L(e,"margin-top","5px"),n(e,"class","svelte-rkd8eh"),n(s,"class","svelte-rkd8eh"),L(g,"font-style","italic"),n(g,"class","svelte-rkd8eh"),L(y,"color","#F8553D"),n(y,"class","svelte-rkd8eh"),n(i,"class","humans_filter1 svelte-rkd8eh"),L(f,"font-style","italic"),n(f,"class","svelte-rkd8eh"),L(A,"color","#F8553D"),n(A,"class","svelte-rkd8eh"),n(D,"class","humans_filter2 svelte-rkd8eh"),n(h,"class","violence_grid svelte-rkd8eh"),n(Q,"class","back_buttons svelte-rkd8eh"),n(W,"class","continue_buttons svelte-rkd8eh"),n(Y,"class","buttons_grid svelte-rkd8eh"),n(t,"class","svelte-rkd8eh")},m(b,F){z(b,t,F),_(t,e),_(e,l),_(t,a),_(t,s),_(s,c),_(t,d),_(t,h),_(h,i),_(i,g),_(g,k),_(i,w),_(i,y),_(y,B),_(y,E),_(i,O),ae(P,i,null),_(h,j),_(h,D),_(D,f),_(f,R),_(D,x),_(D,A),_(A,ee),_(A,p),_(D,me),ae(X,D,null),_(t,ge),_(t,Y),_(Y,Q),ae(q,Q,null),_(Y,ve),_(Y,W),ae(H,W,null),U=!0},p(b,[F]){(!U||F&2)&&o!==(o=b[1].text+"")&&re(c,o),(!U||F&2)&&u!==(u=b[1].left_text+"")&&re(k,u),(!U||F&512)&&re(E,b[9]);const te={};F&4&&(te.data_dot=b[2]),P.$set(te),(!U||F&1024)&&re(p,b[10]);const le={};F&8&&(le.data_dot=b[3]),X.$set(le);const K={};F&16777571&&(K.$$scope={dirty:F,ctx:b}),q.$set(K);const $={};F&16777427&&($.$$scope={dirty:F,ctx:b}),H.$set($)},i(b){U||(oe(P.$$.fragment,b),oe(X.$$.fragment,b),oe(q.$$.fragment,b),oe(H.$$.fragment,b),U=!0)},o(b){ie(P.$$.fragment,b),ie(X.$$.fragment,b),ie(q.$$.fragment,b),ie(H.$$.fragment,b),U=!1},d(b){b&&m(t),ce(P),ce(X),ce(q),ce(H)}}}function xe(r,t,e){let l=-1,a=-1,s={x:0,y:0},o=[{filter:"Sort by gender",filterFunction:p=>p.mig_ext_sex===1,left_text:"Female migrants",text:"Female migrants in the data were less likely to report violence."},{filter:"Sort by motivation to migrate",filterFunction:p=>p.motivation===1,left_text:"Migrants motivated by deteriorating livelihoods from natural hazards",text:"People migrating because of deterioration of livelihoods due to natural hazards (floods, droughts, volcanic eruptions, hurricanes, plagues, etc.) were more likely to experience violence than those migrating for other reasons."},{filter:"Sort by accompanying travelers",filterFunction:p=>p.acompany===1,left_text:"Migrants traveling alone",text:"Migrants traveling alone had higher rates of reported violence."},{filter:"Sort by mode of travel",filterFunction:p=>p.medio===1,left_text:"Migrants traveling in a caravan",text:"Migrants traveling in a caravan reported higher rates of violence than migrants traveling with a cajote or through their own method."}],c=0,d=o[c],h=o[c+1],i=o[c-1],g=_e.filter(p=>d.filterFunction(p)),u=_e.filter(p=>!d.filterFunction(p)),k=g.filter(p=>p.experienced_violence_yn==1),w=u.filter(p=>p.experienced_violence_yn==0),y=Object.keys(k).length/Object.keys(g).length,B=Number(y).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2}),E=Object.keys(w).length/Object.keys(u).length,O=Number(E).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2});const P=()=>e(1,d=i),j=()=>e(0,c=c-1),D=p=>{e(5,a=1),e(6,s={x:p.pageX,y:p.pageY})},f=p=>{e(5,a=-1)},R=()=>e(1,d=h),x=()=>e(0,c=c+1),A=p=>{e(4,l=1),e(6,s={x:p.pageX,y:p.pageY})},ee=p=>{e(4,l=-1)};return r.$$.update=()=>{r.$$.dirty&1&&(e(7,h=o[c+1]),e(8,i=o[c-1])),r.$$.dirty&2&&(e(2,g=_e.filter(p=>d.filterFunction(p))),e(3,u=_e.filter(p=>!d.filterFunction(p)))),r.$$.dirty&30732&&(e(11,k=g.filter(p=>p.experienced_violence_yn==1)),e(12,w=u.filter(p=>p.experienced_violence_yn==1)),e(13,y=Object.keys(k).length/Object.keys(g).length),e(9,B=Number(y).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})),e(14,E=Object.keys(w).length/Object.keys(u).length),e(10,O=Number(E).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})))},[c,d,g,u,l,a,s,h,i,B,O,k,w,y,E,P,j,D,f,R,x,A,ee]}class et extends we{constructor(t){super(),Ee(this,t,xe,Ze,Oe,{})}}function tt(r){let t,e;return t=new et({}),{c(){se(t.$$.fragment)},l(l){ne(t.$$.fragment,l)},m(l,a){ae(t,l,a),e=!0},p:ye,i(l){e||(oe(t.$$.fragment,l),e=!0)},o(l){ie(t.$$.fragment,l),e=!1},d(l){ce(t,l)}}}class at extends we{constructor(t){super(),Ee(this,t,null,tt,Oe,{})}}export{at as default};
