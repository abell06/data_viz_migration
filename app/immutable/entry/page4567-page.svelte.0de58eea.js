import{S as ke,i as Ee,s as je,k as F,J as U,a as C,l as S,m as v,K as G,h as m,c as M,n,L as De,p as L,b as z,G as _,H as we,M as qe,N as V,O as Oe,q as P,r as I,u as se,y as re,z as ne,A as ae,g as oe,d as ie,B as ce,e as de,P as pe}from"../chunks/index.6c8fca2d.js";import{r as Pe,I as Ie,o as Te,p as Ae,h as Ce,a as _e}from"../chunks/all_violence_data.642793a1.js";import{B as Me}from"../chunks/ButtonContainer.d93c7555.js";import"../chunks/transform.90f3feb5.js";function Ve(s,t,e){const l=s.slice();return l[20]=t[e],l[22]=e,l}function ze(s){let t,e,l,a,r,o,c,d,h,i,g,f,b,k,w;function N(...E){return s[15](s[20],...E)}return{c(){t=U("g"),e=U("svg"),l=U("svg"),a=U("g"),r=U("path"),h=U("clipPath"),i=U("circle"),this.h()},l(E){t=G(E,"g",{class:!0,transform:!0});var j=v(t);e=G(j,"svg",{class:!0,height:!0,width:!0,viewBox:!0});var D=v(e);l=G(D,"svg",{xmlns:!0,"xml:space":!0,height:!0,width:!0,version:!0,x:!0,y:!0,"xmlns:ns":!0,"enable-background":!0,viewBox:!0});var T=v(l);a=G(T,"g",{"ns:extraneous":!0,class:!0});var B=v(a);r=G(B,"path",{"stroke-width":!0,d:!0,fill:!0,"fill-opacity":!0}),v(r).forEach(m),B.forEach(m),T.forEach(m),D.forEach(m),h=G(j,"clipPath",{id:!0});var u=v(h);i=G(u,"circle",{r:!0}),v(i).forEach(m),u.forEach(m),j.forEach(m),this.h()},h(){n(r,"stroke-width","1.25"),n(r,"d","m62.096 8.5859c-5.208 0-9.424 4.2191-9.424 9.4261 0.001 5.203 4.217 9.424 9.424 9.424 5.202 0 9.422-4.221 9.422-9.424 0-5.208-4.22-9.4261-9.422-9.4261zm-10.41 21.268c-6.672 0-12.131 5.407-12.131 12.07v29.23c0 2.275 1.791 4.123 4.07 4.123 2.28 0 4.127-1.846 4.127-4.123v-26.355h2.102s0.048 68.811 0.048 73.331c0 3.05 2.478 5.53 5.532 5.53 3.052 0 5.525-2.48 5.525-5.53v-42.581h2.27v42.581c0 3.05 2.473 5.53 5.531 5.53 3.054 0 5.549-2.48 5.549-5.53v-73.331h2.127v26.355c0 2.275 1.85 4.123 4.126 4.123 2.28 0 4.073-1.846 4.073-4.123v-29.23c0-6.663-5.463-12.07-12.129-12.07h-20.82z"),n(r,"fill",o=s[0]?s[4](s[0][s[20].data]):xe),n(r,"fill-opacity",Ge),n(a,"ns:extraneous","self"),n(a,"class","svelte-fwndsg"),n(l,"xmlns","http://www.w3.org/2000/svg"),n(l,"xml:space","preserve"),n(l,"height","132.24px"),n(l,"width","124.19px"),n(l,"version","1.1"),n(l,"x","0px"),n(l,"y","0px"),n(l,"xmlns:ns","&#38;ns_ai;"),n(l,"enable-background","new 0 0 124.189 132.243"),n(l,"viewBox","75 0 44.189 132.243"),n(e,"class","person svelte-fwndsg"),n(e,"height",c=2*s[20].r),n(e,"width",d=2*s[20].r),n(e,"viewBox","0 0 100 120"),n(i,"r",g=s[20].r),n(h,"id",f=`${s[9]}-clip-${s[20].data}`),n(t,"class","node svelte-fwndsg"),n(t,"transform",b="translate("+s[20].x+","+s[20].y+")")},m(E,j){z(E,t,j),_(t,e),_(e,l),_(l,a),_(a,r),_(t,h),_(h,i),k||(w=[V(e,"mouseover",N),V(e,"mouseout",s[16])],k=!0)},p(E,j){s=E,j&49&&o!==(o=s[0]?s[4](s[0][s[20].data]):xe)&&n(r,"fill",o),j&32&&c!==(c=2*s[20].r)&&n(e,"height",c),j&32&&d!==(d=2*s[20].r)&&n(e,"width",d),j&32&&g!==(g=s[20].r)&&n(i,"r",g),j&32&&f!==(f=`${s[9]}-clip-${s[20].data}`)&&n(h,"id",f),j&32&&b!==(b="translate("+s[20].x+","+s[20].y+")")&&n(t,"transform",b)},d(E){E&&m(t),k=!1,Oe(w)}}}function $e(s){let t,e=s[3][s[1].data]+"",l,a;return{c(){t=P("Type of violence reported: `"),l=P(e),a=P("`")},l(r){t=I(r,"Type of violence reported: `"),l=I(r,e),a=I(r,"`")},m(r,o){z(r,t,o),z(r,l,o),z(r,a,o)},p(r,o){o&10&&e!==(e=r[3][r[1].data]+"")&&se(l,e)},d(r){r&&m(t),r&&m(l),r&&m(a)}}}function He(s){let t,e,l,a,r,o,c=s[5].leaves(),d=[];for(let i=0;i<c.length;i+=1)d[i]=ze(Ve(s,c,i));let h=s[1]!==-1&&$e(s);return{c(){t=F("main"),e=F("div"),l=U("svg");for(let i=0;i<d.length;i+=1)d[i].c();a=C(),r=F("div"),h&&h.c(),this.h()},l(i){t=S(i,"MAIN",{class:!0});var g=v(t);e=S(g,"DIV",{class:!0});var f=v(e);l=G(f,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var b=v(l);for(let w=0;w<d.length;w+=1)d[w].l(b);b.forEach(m),a=M(f),r=S(f,"DIV",{class:!0,style:!0});var k=v(r);h&&h.l(k),k.forEach(m),f.forEach(m),g.forEach(m),this.h()},h(){n(l,"width",fe),n(l,"height",s[6]),n(l,"viewBox",-s[7]+" "+-s[8]+" "+fe+" "+s[6]),n(l,"fill",Ue),n(l,"class","person svelte-fwndsg"),n(r,"class",o=De(s[1]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-fwndsg"),L(r,"left",s[2].x+2+"px"),L(r,"top",s[2].y+2+"px"),n(e,"class","violence_grid svelte-fwndsg"),n(t,"class","circles svelte-fwndsg")},m(i,g){z(i,t,g),_(t,e),_(e,l);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(l,null);_(e,a),_(e,r),h&&h.m(r,null)},p(i,[g]){if(g&567){c=i[5].leaves();let f;for(f=0;f<c.length;f+=1){const b=Ve(i,c,f);d[f]?d[f].p(b,g):(d[f]=ze(b),d[f].c(),d[f].m(l,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=c.length}i[1]!==-1?h?h.p(i,g):(h=$e(i),h.c(),h.m(r,null)):h&&(h.d(1),h=null),g&2&&o!==(o=De(i[1]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-fwndsg")&&n(r,"class",o),g&4&&L(r,"left",i[2].x+2+"px"),g&4&&L(r,"top",i[2].y+2+"px")},i:we,o:we,d(i){i&&m(t),qe(d,i),h&&h.d()}}}const fe=800,Le=3,he=1,Ue="black",xe="#ccc",Ge=.9;function Je(s,t,e){let{data_dot:l=[]}=t,a=Object.values(l),r=-1,o={x:0,y:0};const c=fe,d=he,h=he,i=he,g=he;a.map(u=>u);let f=a.map(u=>u.experienced_violence_yn),b=a.map(u=>u.experienced_violence_yn),k=Pe(f.length).filter(u=>f[u]>=0),w=a.map(u=>u.violence_strings),N=k.map(u=>b[u]);N=new Ie(N);let E=Te(N).domain([0,1]).range(["#964CAD","#F8553D"]);const j=`O-${Math.random().toString(16).slice(2)}`;let D=Ae().size([fe-d-h,c-i-g]).radius(u=>10).padding(Le)(Ce({children:k}).sum(u=>f[u]));const T=(u,x)=>{e(1,r=u),e(2,o={x:x.pageX,y:x.pageY})},B=u=>{e(1,r=-1)};return s.$$set=u=>{"data_dot"in u&&e(10,l=u.data_dot)},s.$$.update=()=>{s.$$.dirty&1024&&e(11,a=Object.values(l)),s.$$.dirty&30721&&(a.map(u=>u),e(12,f=a.map(u=>u.experienced_violence_yn)),e(0,b=a.map(u=>u.experienced_violence_yn)),e(13,k=Pe(f.length).filter(u=>f[u]>=0)),e(3,w=a.map(u=>u.violence_strings)),e(14,N=k.map(u=>b[u])),e(14,N=new Ie(N)),e(4,E=Te(N).domain([0,1]).range(["#964CAD","#F8553D"]))),s.$$.dirty&12288&&e(5,D=Ae().size([fe-d-h,c-i-g]).radius(u=>8).padding(Le)(Ce({children:k}).sum(u=>f[u])))},[b,r,o,w,E,D,c,d,i,j,l,a,f,k,N,T,B]}class Re extends ke{constructor(t){super(),Ee(this,t,Je,He,je,{data_dot:10})}}function Xe(s){let t,e,l,a,r;return{c(){t=F("button"),e=P("Back"),this.h()},l(o){t=S(o,"BUTTON",{class:!0,"data-name":!0});var c=v(t);e=I(c,"Back"),c.forEach(m),this.h()},h(){n(t,"class","btn svelte-hxanrj"),n(t,"data-name",l=s[8].filter),t.value=s[8],pe(t,"active",s[5]!==-1)},m(o,c){z(o,t,c),_(t,e),a||(r=[V(t,"click",s[15]),V(t,"click",s[16]),V(t,"mouseover",s[17]),V(t,"mouseout",s[18])],a=!0)},p(o,c){c&256&&l!==(l=o[8].filter)&&n(t,"data-name",l),c&256&&(t.value=o[8]),c&32&&pe(t,"active",o[5]!==-1)},d(o){o&&m(t),a=!1,Oe(r)}}}function Ke(s){let t,e=s[0]!=0&&Xe(s);return{c(){e&&e.c(),t=de()},l(l){e&&e.l(l),t=de()},m(l,a){e&&e.m(l,a),z(l,t,a)},p(l,a){l[0]!=0?e?e.p(l,a):(e=Xe(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&m(t)}}}function Ye(s){let t,e,l,a,r;return{c(){t=F("button"),e=P("Continue"),this.h()},l(o){t=S(o,"BUTTON",{class:!0,"data-name":!0});var c=v(t);e=I(c,"Continue"),c.forEach(m),this.h()},h(){n(t,"class","btn svelte-hxanrj"),n(t,"data-name",l=s[7].filter),t.value=s[7],pe(t,"active",s[4]!==-1)},m(o,c){z(o,t,c),_(t,e),a||(r=[V(t,"click",s[19]),V(t,"click",s[20]),V(t,"mouseover",s[21]),V(t,"mouseout",s[22])],a=!0)},p(o,c){c&128&&l!==(l=o[7].filter)&&n(t,"data-name",l),c&128&&(t.value=o[7]),c&16&&pe(t,"active",o[4]!==-1)},d(o){o&&m(t),a=!1,Oe(r)}}}function Qe(s){let t,e=s[0]!=3&&Ye(s);return{c(){e&&e.c(),t=de()},l(l){e&&e.l(l),t=de()},m(l,a){e&&e.m(l,a),z(l,t,a)},p(l,a){l[0]!=3?e?e.p(l,a):(e=Ye(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&m(t)}}}function We(s){let t,e,l,a,r,o=s[1].text+"",c,d,h,i,g,f=s[1].left_text+"",b,k,w,N,E,j,D,T,B,u,x,Z,A,ee,p,me,R,ge,X,K,Y,ve,Q,q,H;return D=new Re({props:{data_dot:s[2]}}),R=new Re({props:{data_dot:s[3]}}),Y=new Me({props:{$$slots:{default:[Ke]},$$scope:{ctx:s}}}),q=new Me({props:{$$slots:{default:[Qe]},$$scope:{ctx:s}}}),{c(){t=F("main"),e=F("h2"),l=P('Are some "irregular" migrants experiencing violence at higher rates than others?'),a=C(),r=F("p"),c=P(o),d=C(),h=F("div"),i=F("section"),g=F("p"),b=P(f),k=C(),w=F("p"),N=P("Rate of reported violence: "),E=P(s[9]),j=C(),re(D.$$.fragment),T=C(),B=F("section"),u=F("p"),x=P("All others"),Z=C(),A=F("p"),ee=P("Rate of reported violence: "),p=P(s[10]),me=C(),re(R.$$.fragment),ge=C(),X=F("div"),K=F("section"),re(Y.$$.fragment),ve=C(),Q=F("section"),re(q.$$.fragment),this.h()},l(y){t=S(y,"MAIN",{class:!0});var O=v(t);e=S(O,"H2",{style:!0,class:!0});var te=v(e);l=I(te,'Are some "irregular" migrants experiencing violence at higher rates than others?'),te.forEach(m),a=M(O),r=S(O,"P",{class:!0});var le=v(r);c=I(le,o),le.forEach(m),d=M(O),h=S(O,"DIV",{class:!0});var J=v(h);i=S(J,"SECTION",{class:!0});var $=v(i);g=S($,"P",{style:!0,class:!0});var Fe=v(g);b=I(Fe,f),Fe.forEach(m),k=M($),w=S($,"P",{style:!0,class:!0});var be=v(w);N=I(be,"Rate of reported violence: "),E=I(be,s[9]),be.forEach(m),j=M($),ne(D.$$.fragment,$),$.forEach(m),T=M(J),B=S(J,"SECTION",{class:!0});var W=v(B);u=S(W,"P",{style:!0,class:!0});var Se=v(u);x=I(Se,"All others"),Se.forEach(m),Z=M(W),A=S(W,"P",{style:!0,class:!0});var ye=v(A);ee=I(ye,"Rate of reported violence: "),p=I(ye,s[10]),ye.forEach(m),me=M(W),ne(R.$$.fragment,W),W.forEach(m),J.forEach(m),ge=M(O),X=S(O,"DIV",{class:!0});var ue=v(X);K=S(ue,"SECTION",{class:!0});var Ne=v(K);ne(Y.$$.fragment,Ne),Ne.forEach(m),ve=M(ue),Q=S(ue,"SECTION",{class:!0});var Be=v(Q);ne(q.$$.fragment,Be),Be.forEach(m),ue.forEach(m),O.forEach(m),this.h()},h(){L(e,"margin-top","5px"),n(e,"class","svelte-hxanrj"),n(r,"class","bold-font svelte-hxanrj"),L(g,"font-style","italic"),n(g,"class","svelte-hxanrj"),L(w,"color","#F8553D"),n(w,"class","svelte-hxanrj"),n(i,"class","humans_filter1 svelte-hxanrj"),L(u,"font-style","italic"),n(u,"class","svelte-hxanrj"),L(A,"color","#F8553D"),n(A,"class","svelte-hxanrj"),n(B,"class","humans_filter2 svelte-hxanrj"),n(h,"class","violence_grid svelte-hxanrj"),n(K,"class","back_buttons svelte-hxanrj"),n(Q,"class","continue_buttons svelte-hxanrj"),n(X,"class","buttons_grid svelte-hxanrj"),n(t,"class","svelte-hxanrj")},m(y,O){z(y,t,O),_(t,e),_(e,l),_(t,a),_(t,r),_(r,c),_(t,d),_(t,h),_(h,i),_(i,g),_(g,b),_(i,k),_(i,w),_(w,N),_(w,E),_(i,j),ae(D,i,null),_(h,T),_(h,B),_(B,u),_(u,x),_(B,Z),_(B,A),_(A,ee),_(A,p),_(B,me),ae(R,B,null),_(t,ge),_(t,X),_(X,K),ae(Y,K,null),_(X,ve),_(X,Q),ae(q,Q,null),H=!0},p(y,[O]){(!H||O&2)&&o!==(o=y[1].text+"")&&se(c,o),(!H||O&2)&&f!==(f=y[1].left_text+"")&&se(b,f),(!H||O&512)&&se(E,y[9]);const te={};O&4&&(te.data_dot=y[2]),D.$set(te),(!H||O&1024)&&se(p,y[10]);const le={};O&8&&(le.data_dot=y[3]),R.$set(le);const J={};O&16777571&&(J.$$scope={dirty:O,ctx:y}),Y.$set(J);const $={};O&16777427&&($.$$scope={dirty:O,ctx:y}),q.$set($)},i(y){H||(oe(D.$$.fragment,y),oe(R.$$.fragment,y),oe(Y.$$.fragment,y),oe(q.$$.fragment,y),H=!0)},o(y){ie(D.$$.fragment,y),ie(R.$$.fragment,y),ie(Y.$$.fragment,y),ie(q.$$.fragment,y),H=!1},d(y){y&&m(t),ce(D),ce(R),ce(Y),ce(q)}}}function Ze(s,t,e){let l=-1,a=-1,r={x:0,y:0},o=[{filter:"Sort by gender",filterFunction:p=>p.mig_ext_sex===1,left_text:"Female migrants",text:"Female migrants in the data were less likely to report violence."},{filter:"Sort by motivation to migrate",filterFunction:p=>p.motivation===1,left_text:"Migrants motivated by deteriorating livelihoods from natural hazards",text:"People migrating because of deterioration of livelihoods due to natural hazards (floods, droughts, volcanic eruptions, hurricanes, plagues, etc.) were more likely to experience violence than those migrating for other reasons."},{filter:"Sort by accompanying travelers",filterFunction:p=>p.acompany===1,left_text:"Migrants traveling alone",text:"Migrants traveling alone had higher rates of reported violence."},{filter:"Sort by mode of travel",filterFunction:p=>p.medio===1,left_text:"Migrants traveling in a caravan",text:"Migrants traveling in a caravan reported higher rates of violence than migrants traveling with a cajote or through their own method."}],c=0,d=o[c],h=o[c+1],i=o[c-1],g=_e.filter(p=>d.filterFunction(p)),f=_e.filter(p=>!d.filterFunction(p)),b=g.filter(p=>p.experienced_violence_yn==1),k=f.filter(p=>p.experienced_violence_yn==0),w=Object.keys(b).length/Object.keys(g).length,N=Number(w).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2}),E=Object.keys(k).length/Object.keys(f).length,j=Number(E).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2});const D=()=>e(1,d=i),T=()=>e(0,c=c-1),B=p=>{e(5,a=1),e(6,r={x:p.pageX,y:p.pageY})},u=p=>{e(5,a=-1)},x=()=>e(1,d=h),Z=()=>e(0,c=c+1),A=p=>{e(4,l=1),e(6,r={x:p.pageX,y:p.pageY})},ee=p=>{e(4,l=-1)};return s.$$.update=()=>{s.$$.dirty&1&&(e(7,h=o[c+1]),e(8,i=o[c-1])),s.$$.dirty&2&&(e(2,g=_e.filter(p=>d.filterFunction(p))),e(3,f=_e.filter(p=>!d.filterFunction(p)))),s.$$.dirty&30732&&(e(11,b=g.filter(p=>p.experienced_violence_yn==1)),e(12,k=f.filter(p=>p.experienced_violence_yn==1)),e(13,w=Object.keys(b).length/Object.keys(g).length),e(9,N=Number(w).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})),e(14,E=Object.keys(k).length/Object.keys(f).length),e(10,j=Number(E).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})))},[c,d,g,f,l,a,r,h,i,N,j,b,k,w,E,D,T,B,u,x,Z,A,ee]}class et extends ke{constructor(t){super(),Ee(this,t,Ze,We,je,{})}}function tt(s){let t,e;return t=new et({}),{c(){re(t.$$.fragment)},l(l){ne(t.$$.fragment,l)},m(l,a){ae(t,l,a),e=!0},p:we,i(l){e||(oe(t.$$.fragment,l),e=!0)},o(l){ie(t.$$.fragment,l),e=!1},d(l){ce(t,l)}}}class at extends ke{constructor(t){super(),Ee(this,t,null,tt,je,{})}}export{at as default};
