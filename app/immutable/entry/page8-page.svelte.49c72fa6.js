import{S as De,i as Ke,s as Le,k as V,q as D,a as G,y as he,J as P,l as H,m as v,r as K,h as f,c as J,z as ge,K as S,p as j,n as _,Q as We,L as $e,b as Q,G as u,A as me,R as qe,g as pe,d as de,B as ve,M as ae,e as ce,N as _e,O as Ue,u as Ge,P as ue,H as Je}from"../chunks/index.6c8fca2d.js";import"../chunks/transform.90f3feb5.js";import{d as Ae,l as ie}from"../chunks/violence_rates.261278f0.js";import{B as Ie}from"../chunks/ButtonContainer.d93c7555.js";function Ce(l,e,n){const t=l.slice();return t[25]=e[n],t[27]=n,t}function Pe(l,e,n){const t=l.slice();return t[28]=e[n],t}function Se(l,e,n){const t=l.slice();return t[31]=e[n],t}function Me(l,e,n){const t=l.slice();return t[34]=e[n],t}function ze(l){let e,n=l[34].text+"",t,s,a,o;function m(){return l[19](l[34])}return{c(){e=V("button"),t=D(n),s=G(),this.h()},l(h){e=H(h,"BUTTON",{class:!0,"data-name":!0});var i=v(e);t=K(i,n),s=J(i),i.forEach(f),this.h()},h(){_(e,"class","btn svelte-1sx715"),_(e,"data-name",l[34].text),e.value=l[34],ue(e,"active",l[0]===l[34])},m(h,i){Q(h,e,i),u(e,t),u(e,s),a||(o=_e(e,"click",m),a=!0)},p(h,i){l=h,i[0]&2049&&ue(e,"active",l[0]===l[34])},d(h){h&&f(e),a=!1,o()}}}function Qe(l){let e,n=l[11],t=[];for(let s=0;s<n.length;s+=1)t[s]=ze(Me(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=ce()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=ce()},m(s,a){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,a);Q(s,e,a)},p(s,a){if(a[0]&2049){n=s[11];let o;for(o=0;o<n.length;o+=1){const m=Me(s,n,o);t[o]?t[o].p(m,a):(t[o]=ze(m),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){ae(t,s),s&&f(e)}}}function Be(l){let e,n=l[31].filter+"",t,s,a,o;function m(){return l[20](l[31])}return{c(){e=V("button"),t=D(n),s=G(),this.h()},l(h){e=H(h,"BUTTON",{class:!0,"data-name":!0});var i=v(e);t=K(i,n),s=J(i),i.forEach(f),this.h()},h(){_(e,"class","btn svelte-1sx715"),_(e,"data-name",l[31].filter),e.value=l[31],ue(e,"active",l[1]===l[31])},m(h,i){Q(h,e,i),u(e,t),u(e,s),a||(o=_e(e,"click",m),a=!0)},p(h,i){l=h,i[0]&4098&&ue(e,"active",l[1]===l[31])},d(h){h&&f(e),a=!1,o()}}}function Re(l){let e,n=l[12],t=[];for(let s=0;s<n.length;s+=1)t[s]=Be(Se(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=ce()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=ce()},m(s,a){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,a);Q(s,e,a)},p(s,a){if(a[0]&4098){n=s[12];let o;for(o=0;o<n.length;o+=1){const m=Se(s,n,o);t[o]?t[o].p(m,a):(t[o]=Be(m),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){ae(t,s),s&&f(e)}}}function Oe(l){let e,n,t,s=l[28]*100+"",a,o,m=l[28]===4?" % reporting violence":"",h,i;return{c(){e=P("g"),n=P("line"),t=P("text"),a=D(s),o=D("% "),h=D(m),this.h()},l(p){e=S(p,"g",{class:!0,transform:!0});var E=v(e);n=S(E,"line",{x2:!0,class:!0}),v(n).forEach(f),t=S(E,"text",{y:!0,class:!0});var T=v(t);a=K(T,s),o=K(T,"% "),h=K(T,m),T.forEach(f),E.forEach(f),this.h()},h(){_(n,"x2","100%"),_(n,"class","svelte-1sx715"),_(t,"y","-4"),_(t,"class","svelte-1sx715"),_(e,"class","tick tick-"+l[28]+" svelte-1sx715"),_(e,"transform",i="translate(0, "+l[9](l[28])+")")},m(p,E){Q(p,e,E),u(e,n),u(e,t),u(t,a),u(t,o),u(t,h)},p(p,E){E[0]&512&&i!==(i="translate(0, "+p[9](p[28])+")")&&_(e,"transform",i)},d(p){p&&f(e)}}}function Ve(l){let e,n,t,s,a,o,m;function h(...i){return l[21](l[27],...i)}return{c(){e=P("rect"),this.h()},l(i){e=S(i,"rect",{x:!0,y:!0,width:!0,height:!0,class:!0}),v(e).forEach(f),this.h()},h(){_(e,"x",n=l[8](l[27])+2),_(e,"y",t=l[9](l[25])),_(e,"width",s=l[10]-4),_(e,"height",a=l[9](0)-l[9](l[25])),_(e,"class","svelte-1sx715")},m(i,p){Q(i,e,p),o||(m=[_e(e,"mouseover",h),_e(e,"mouseout",l[22])],o=!0)},p(i,p){l=i,p[0]&256&&n!==(n=l[8](l[27])+2)&&_(e,"x",n),p[0]&640&&t!==(t=l[9](l[25]))&&_(e,"y",t),p[0]&1024&&s!==(s=l[10]-4)&&_(e,"width",s),p[0]&640&&a!==(a=l[9](0)-l[9](l[25]))&&_(e,"height",a)},d(i){i&&f(e),o=!1,Ue(m)}}}function He(l){let e=l[2][l[5]]+"",n;return{c(){n=D(e)},l(t){n=K(t,e)},m(t,s){Q(t,n,s)},p(t,s){s[0]&36&&e!==(e=t[2][t[5]]+"")&&Ge(n,e)},d(t){t&&f(n)}}}function Xe(l){let e,n,t,s,a,o,m,h,i,p,E,T,$,U,M,q,N,y,F,A,z,B,te,L,le,W,ne,r,O,fe,I,se,R;m=new Ie({props:{$$slots:{default:[Qe]},$$scope:{ctx:l}}}),M=new Ie({props:{$$slots:{default:[Re]},$$scope:{ctx:l}}});let Z=l[13],b=[];for(let c=0;c<Z.length;c+=1)b[c]=Oe(Pe(l,Z,c));let ee=l[7],x=[];for(let c=0;c<ee.length;c+=1)x[c]=Ve(Ce(l,ee,c));let w=l[5]!==-1&&He(l);return{c(){e=V("main"),n=V("div"),t=V("section"),s=V("p"),a=D("Filter by violence type"),o=G(),he(m.$$.fragment),h=G(),i=V("section"),p=V("p"),E=D("Choose comparator"),T=G(),$=V("p"),U=G(),he(M.$$.fragment),q=G(),N=V("div"),y=P("svg"),F=P("g");for(let c=0;c<b.length;c+=1)b[c].c();A=P("g"),z=P("g"),B=P("text"),te=D("Highest rate of reported violence"),L=P("text"),le=D("Lowest rate of reported violence"),W=P("text"),ne=D("of migrants reporting violence"),r=P("g");for(let c=0;c<x.length;c+=1)x[c].c();fe=G(),I=V("div"),w&&w.c(),this.h()},l(c){e=H(c,"MAIN",{class:!0});var d=v(e);n=H(d,"DIV",{class:!0});var k=v(n);t=H(k,"SECTION",{class:!0});var X=v(t);s=H(X,"P",{style:!0});var g=v(s);a=K(g,"Filter by violence type"),g.forEach(f),o=J(X),ge(m.$$.fragment,X),X.forEach(f),h=J(k),i=H(k,"SECTION",{class:!0});var C=v(i);p=H(C,"P",{style:!0});var ye=v(p);E=K(ye,"Choose comparator"),ye.forEach(f),T=J(C),$=H(C,"P",{style:!0}),v($).forEach(f),U=J(C),ge(M.$$.fragment,C),C.forEach(f),k.forEach(f),q=J(d),N=H(d,"DIV",{class:!0});var be=v(N);y=S(be,"svg",{class:!0});var re=v(y);F=S(re,"g",{class:!0});var xe=v(F);for(let Y=0;Y<b.length;Y+=1)b[Y].l(xe);xe.forEach(f),A=S(re,"g",{class:!0});var ke=v(A);z=S(ke,"g",{class:!0});var oe=v(z);B=S(oe,"text",{x:!0,y:!0,class:!0});var Ee=v(B);te=K(Ee,"Highest rate of reported violence"),Ee.forEach(f),L=S(oe,"text",{x:!0,y:!0,class:!0});var we=v(L);le=K(we,"Lowest rate of reported violence"),we.forEach(f),W=S(oe,"text",{x:!0,y:!0,class:!0});var Fe=v(W);ne=K(Fe,"of migrants reporting violence"),Fe.forEach(f),oe.forEach(f),ke.forEach(f),r=S(re,"g",{class:!0});var Te=v(r);for(let Y=0;Y<x.length;Y+=1)x[Y].l(Te);Te.forEach(f),re.forEach(f),be.forEach(f),fe=J(d),I=H(d,"DIV",{class:!0,style:!0});var Ne=v(I);w&&w.l(Ne),Ne.forEach(f),d.forEach(f),this.h()},h(){j(s,"margin-top","0px"),_(t,"class","left_buttons"),j(p,"margin-top","0px"),j($,"margin-top","10px"),_(i,"class","right_buttons"),_(n,"class","buttons_grid"),_(F,"class","axis y-axis svelte-1sx715"),_(B,"x","0"),_(B,"y","500"),_(B,"class","svelte-1sx715"),_(L,"x","500"),_(L,"y","500"),_(L,"class","svelte-1sx715"),_(W,"x","65"),_(W,"y","15"),_(W,"class","svelte-1sx715"),_(z,"class","tick svelte-1sx715"),_(A,"class","axis x-axis svelte-1sx715"),_(r,"class","bars svelte-1sx715"),_(y,"class","svelte-1sx715"),_(N,"class","chart svelte-1sx715"),We(()=>l[23].call(N)),_(I,"class",se=$e(l[5]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1sx715"),j(I,"left",l[6].x+"px"),j(I,"top",l[6].y-1e3+"px"),_(e,"class","svelte-1sx715")},m(c,d){Q(c,e,d),u(e,n),u(n,t),u(t,s),u(s,a),u(t,o),me(m,t,null),u(n,h),u(n,i),u(i,p),u(p,E),u(i,T),u(i,$),u(i,U),me(M,i,null),u(e,q),u(e,N),u(N,y),u(y,F);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(F,null);u(y,A),u(A,z),u(z,B),u(B,te),u(z,L),u(L,le),u(z,W),u(W,ne),u(y,r);for(let k=0;k<x.length;k+=1)x[k]&&x[k].m(r,null);O=qe(N,l[23].bind(N)),u(e,fe),u(e,I),w&&w.m(I,null),R=!0},p(c,d){const k={};d[0]&1|d[1]&64&&(k.$$scope={dirty:d,ctx:c}),m.$set(k);const X={};if(d[0]&2|d[1]&64&&(X.$$scope={dirty:d,ctx:c}),M.$set(X),d[0]&8704){Z=c[13];let g;for(g=0;g<Z.length;g+=1){const C=Pe(c,Z,g);b[g]?b[g].p(C,d):(b[g]=Oe(C),b[g].c(),b[g].m(F,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=Z.length}if(d[0]&2016){ee=c[7];let g;for(g=0;g<ee.length;g+=1){const C=Ce(c,ee,g);x[g]?x[g].p(C,d):(x[g]=Ve(C),x[g].c(),x[g].m(r,null))}for(;g<x.length;g+=1)x[g].d(1);x.length=ee.length}c[5]!==-1?w?w.p(c,d):(w=He(c),w.c(),w.m(I,null)):w&&(w.d(1),w=null),(!R||d[0]&32&&se!==(se=$e(c[5]===-1?"tooltip-hidden":"tooltip-visible")+" svelte-1sx715"))&&_(I,"class",se),(!R||d[0]&64)&&j(I,"left",c[6].x+"px"),(!R||d[0]&64)&&j(I,"top",c[6].y-1e3+"px")},i(c){R||(pe(m.$$.fragment,c),pe(M.$$.fragment,c),R=!0)},o(c){de(m.$$.fragment,c),de(M.$$.fragment,c),R=!1},d(c){c&&f(e),ve(m),ve(M),ae(b,c),ae(x,c),O(),w&&w.d()}}}function Ye(l,e,n){let t,s,a=-1,o={x:0,y:0};const m=[{text:"Any incident of violence",violence_type:"experienced_violence_yn",filterFunction:r=>!r.violence_strings.includes("None")},{text:"Threat/ Intimidation",violence_type:"mig_ext_violence/5",filterFunction:r=>r.violence_strings.includes("Threat / Intimidation")},{text:"Physical aggression",violence_type:"mig_ext_violence/6",filterFunction:r=>r.violence_strings.includes("Physical aggression")},{text:"Extortion/ attempted extortion",violence_type:"mig_ext_violence/2",filterFunction:r=>r.violence_strings.includes("Extortion / Attempted extortion")},{text:"Armed robbery",violence_type:"mig_ext_violence/4",filterFunction:r=>r.violence_strings.includes("Armed robbery")},{text:"Theft",violence_type:"mig_ext_violence/3",filterFunction:r=>r.violence_strings.includes("Theft")},{text:"Sexual harassment or assault",violence_type:"mig_ext_violence/7",filterFunction:r=>r.violence_strings.includes("Sexual harassment or assault")},{text:"Kidnapping/ Attempted kidnapping",violence_type:"mig_ext_violence/8",filterFunction:r=>r.violence_strings.includes("Kidnapping / Attempted kidnapping")},{text:"Attemped murder",violence_type:"mig_ext_violence/9",filterFunction:r=>r.violence_strings.includes("Attempted murder")},{text:"Passed away or missing",violence_type:"mig_ext_violence/10",filterFunction:r=>r.violence_strings.includes("Passed away or whereabouts are unknown")}];let h=m[0],i=h.violence_type,p=[{filter:"Compare by motivation to migrate",select_by:"mig_ext_motivo",filterFunction:r=>r.motivation===1,left_text:"Migrants motivated by deteriorating livelihoods from natural hazards",text:" (floods, droughts, volcanic eruptions, hurricanes, plagues, etc.) were more likely to experience violence than those migrating for other reasons."},{filter:"Compare by accompanying travelers",select_by:"mig_ext_acompany",filterFunction:r=>r.acompany===1,left_text:"Migrants traveling alone"},{filter:"Compare by mode of travel",select_by:"mig_ext_medio",filterFunction:r=>r.medio===1,left_text:"Migrants traveling in a caravan"}],E=p[0],T=Ae.filter(r=>r.select_by==E.select_by),$=T.sort((r,O)=>r[i]<O[i]?1:r[i]>O[i]?-1:0),U=$.map(r=>r.categories),M=$.map(r=>r[i]).map(Number),q=U;const N=[.1,.2,.3,.4,.5,.6],y={top:20,right:15,bottom:20,left:65};let F=500,A=200,z=ie().domain([0,q.length]).range([y.left,F-y.right]),B=ie().domain([0,Math.max.apply(null,N)]).range([A-y.bottom,y.top]);const te=r=>n(0,h=r),L=r=>n(1,E=r),le=(r,O)=>{n(5,a=r),n(6,o={x:O.pageX,y:O.pageY})},W=r=>{n(5,a=-1)};function ne(){F=this.clientWidth,A=this.clientHeight,n(3,F),n(4,A)}return l.$$.update=()=>{l.$$.dirty[0]&114695&&(n(14,i=h.violence_type),n(15,T=Ae.filter(r=>r.select_by==E.select_by)),n(16,$=T.sort((r,O)=>r[i]<O[i]?1:r[i]>O[i]?-1:0)),n(2,U=$.map(r=>r.categories)),n(7,M=$.map(r=>r[i]).map(Number)),n(17,q=U)),l.$$.dirty[0]&131080&&n(8,z=ie().domain([0,q.length]).range([y.left,F-y.right])),l.$$.dirty[0]&16&&n(9,B=ie().domain([0,Math.max.apply(null,N)]).range([A-y.bottom,y.top])),l.$$.dirty[0]&8&&n(18,t=F-(y.left+y.right)),l.$$.dirty[0]&393216&&n(10,s=t/q.length)},[h,E,U,F,A,a,o,M,z,B,s,m,p,N,i,T,$,q,t,te,L,le,W,ne]}class je extends De{constructor(e){super(),Ke(this,e,Ye,Xe,Le,{},null,[-1,-1])}}function Ze(l){let e,n;return e=new je({}),{c(){he(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,s){me(e,t,s),n=!0},p:Je,i(t){n||(pe(e.$$.fragment,t),n=!0)},o(t){de(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}class st extends De{constructor(e){super(),Ke(this,e,null,Ze,Le,{})}}export{st as default};
